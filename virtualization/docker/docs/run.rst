###########
docker run
###########

.. contents::

本文描述docker run 后跟的参数代表的意义


-d
````
 --detach=false 后台运行容器，并返回容器ID

-a
````
 --attach=[] stdin: 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项；

-w
`````
 --workdir=""  指定容器的工作目录

-i
````
 --interactive=false 打开STDIN，用于控制台交互，以交互模式运行容器，通常与 -t 同时使用；

-t
````
 --tty=false 为容器重新分配一个伪输入终端，通常与 -i 同时使用；

--name="nginx-lb"
```````````````````
 为容器指定一个名称；

--dns 8.8.8.8
````````````````
 指定容器使用的DNS服务器，默认和宿主一致；

--dns-search example.com
````````````````````````````
 指定容器DNS搜索域名，默认和宿主一致；

-h "alvindb"
````````````````````

 --hostname=""  指定容器的hostname；

-v
``````
 --volume=[]            给容器挂载存储卷，挂载到容器的某个目录

-e username="ritchie"
````````````````````````
 设置环境变量；

--env-file=[]
````````````````````
 从指定文件读入环境变量；

--cpuset="0-2" or --cpuset="0,1,2"
````````````````````````````````````````
 绑定容器到指定CPU运行；

-c
````````````````````
 --cpu-shares=0 设置容器CPU权重，在CPU共享场景使用

-m
````
 设置容器使用内存最大值；

--net="bridge"
````````````````
 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；

.. code-block:: text

    bridge 使用docker daemon指定的网桥
    host    //容器使用主机的网络
    container:NAME_or_ID  >//使用其他容器的网路，共享IP和PORT等网络资源
    none 容器使用自己的网络（类似--net=bridge），但是不进行配置

--link=[]
````````````````````````
 添加链接到另一个容器,指定容器间的关联，使用其他容器的IP、env等信息

--expose=[]
````````````````````
 开放一个端口或一组端口；

-p 10080:8080
````````````````
 指定容器暴露的端口 ，端口映射，可设置多个 -p 10080:8080 -p 1443:443, 就是将容器里的8080端口映射到本地的10080端口，将容器的443端口映射到本地的1443端口。

-P
`````
 --publish-all=false    指定容器暴露的端口


--restart=always
````````````````````

no
----

默认策略，在容器退出时不重启容器.

on-failure
------------
 在容器非正常退出时（退出状态非0），才会重启容器.

on-failure:3
+++++++++++++++
 在容器非正常退出时重启容器，最多重启3次

on-failure
-----------------
 在容器非正常退出时重启容器，最多重启3次

--entrypoint=""
`````````````````````
 覆盖image的入口点

--rm=false
`````````````````
 指定容器停止后自动删除容器(不支持以docker run -d启动的容器)

--sig-proxy=true
`````````````````````
 设置由代理接受并处理信号，但是SIGCHLD、SIGSTOP和SIGKILL不能被代理

--volumes-from=[]
``````````````````````
 给容器挂载其他容器上的卷，挂载到容器的某个目录

--privileged=false
``````````````````````
 指定容器是否为特权容器，特权容器拥有所有的capabilities